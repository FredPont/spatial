package filter

import (
	"fmt"
	"testing"
)

// Point x,y coordinates of a polygon edge
// type Point struct {
// 	x int
// 	y int
// }

func TestIsInside(t *testing.T) {
	tests := []struct {
		polygon []Point
		p       Point
		want    bool
	}{
		{[]Point{{0, 0}, {10, 0}, {10, 10}, {0, 10}}, Point{20, 20}, false},
		{[]Point{{0, 0}, {10, 0}, {10, 10}, {0, 10}}, Point{5, 5}, true},
		{[]Point{{0, 0}, {5, 5}, {5, 0}, {0, 10}}, Point{3, 3}, true},
		{[]Point{{0, 0}, {5, 5}, {5, 0}, {0, 10}}, Point{5, 1}, false},
		{[]Point{{0, 0}, {5, 5}, {5, 0}, {0, 10}}, Point{8, 1}, false},
		{[]Point{{0, 0}, {10, 0}, {10, 10}, {0, 10}}, Point{-1, 10}, false},
		{[]Point{{0, 1}, {0, 5}, {2, 4}, {3, 5}, {3, 1}, {1, 0}}, Point{-1, 4}, false},
		{[]Point{{0, 1}, {0, 5}, {2, 4}, {3, 5}, {3, 1}, {1, 0}}, Point{-1, 0}, false},
		{[]Point{{0, 1}, {0, 5}, {2, 4}, {3, 5}, {3, 1}, {1, 0}}, Point{-1, 1}, false},
		{[]Point{{0, 1}, {0, 5}, {2, 4}, {3, 5}, {3, 1}, {1, 0}}, Point{2, 4}, true},
		{[]Point{{0, 0}, {10, 0}, {10, 10}, {0, 10}}, Point{-1, 0}, false},
		{[]Point{{0, 0}, {10, 0}, {10, 10}, {0, 10}}, Point{5, 3}, true},
		{[]Point{{1401, 1032}, {1389, 1047}, {1383, 1050}, {1374, 1062}, {1371, 1068}, {1365, 1074}, {1362, 1077}, {1356, 1086}, {1356, 1089}, {1353, 1092}, {1350, 1095}, {1347, 1098}, {1347, 1101}, {1347, 1104}, {1344, 1104}, {1344, 1107}, {1341, 1113}, {1341, 1116}, {1341, 1119}, {1338, 1122}, {1338, 1128}, {1338, 1131}, {1338, 1134}, {1335, 1137}, {1335, 1140}, {1335, 1143}, {1335, 1146}, {1338, 1152}, {1338, 1155}, {1335, 1158}, {1335, 1164}, {1335, 1167}, {1335, 1170}, {1338, 1173}, {1338, 1176}, {1341, 1179}, {1341, 1185}, {1344, 1188}, {1344, 1191}, {1347, 1197}, {1350, 1200}, {1353, 1206}, {1356, 1206}, {1362, 1212}, {1365, 1215}, {1368, 1218}, {1371, 1221}, {1374, 1221}, {1374, 1224}, {1377, 1224}, {1377, 1227}, {1380, 1227}, {1383, 1230}, {1383, 1233}, {1386, 1233}, {1386, 1236}, {1389, 1236}, {1392, 1239}, {1392, 1242}, {1395, 1245}, {1398, 1245}, {1401, 1248}, {1404, 1251}, {1407, 1254}, {1410, 1257}, {1413, 1260}, {1416, 1266}, {1416, 1269}, {1419, 1272}, {1419, 1275}, {1422, 1278}, {1425, 1281}, {1428, 1284}, {1431, 1287}, {1431, 1290}, {1434, 1290}, {1437, 1290}, {1437, 1293}, {1440, 1293}, {1443, 1296}, {1443, 1299}, {1446, 1302}, {1449, 1302}, {1449, 1305}, {1452, 1305}, {1455, 1305}, {1458, 1308}, {1461, 1311}, {1464, 1311}, {1470, 1314}, {1473, 1317}, {1479, 1323}, {1482, 1326}, {1485, 1329}, {1491, 1335}, {1494, 1338}, {1500, 1338}, {1503, 1341}, {1512, 1341}, {1515, 1344}, {1518, 1347}, {1521, 1350}, {1524, 1350}, {1527, 1350}, {1533, 1356}, {1536, 1359}, {1539, 1362}, {1545, 1362}, {1551, 1368}, {1563, 1371}, {1566, 1377}, {1575, 1380}, {1578, 1383}, {1584, 1386}, {1587, 1386}, {1593, 1386}, {1593, 1389}, {1596, 1389}, {1599, 1389}, {1602, 1389}, {1605, 1392}, {1611, 1392}, {1617, 1392}, {1623, 1395}, {1629, 1395}, {1635, 1395}, {1641, 1395}, {1647, 1398}, {1656, 1401}, {1659, 1404}, {1665, 1404}, {1665, 1401}, {1665, 1398}, {1665, 1395}, {1668, 1395}, {1668, 1392}, {1668, 1386}, {1668, 1383}, {1674, 1383}, {1674, 1380}, {1674, 1377}, {1674, 1374}, {1677, 1371}, {1677, 1368}, {1680, 1365}, {1680, 1362}, {1680, 1359}, {1683, 1356}, {1683, 1353}, {1683, 1350}, {1686, 1347}, {1686, 1344}, {1689, 1341}, {1692, 1338}, {1695, 1335}, {1698, 1335}, {1698, 1332}, {1701, 1329}, {1704, 1326}, {1704, 1323}, {1707, 1320}, {1710, 1317}, {1713, 1314}, {1713, 1311}, {1716, 1311}, {1716, 1305}, {1719, 1305}, {1722, 1302}, {1725, 1302}, {1728, 1299}, {1728, 1296}, {1731, 1296}, {1731, 1293}, {1734, 1293}, {1737, 1293}, {1737, 1290}, {1743, 1287}, {1746, 1284}, {1749, 1281}, {1749, 1278}, {1752, 1278}, {1752, 1275}, {1755, 1275}, {1755, 1272}, {1758, 1269}, {1761, 1266}, {1764, 1263}, {1764, 1260}, {1767, 1260}, {1767, 1254}, {1770, 1251}, {1770, 1248}, {1773, 1245}, {1773, 1242}, {1776, 1239}, {1776, 1236}, {1779, 1233}, {1779, 1230}, {1782, 1230}, {1782, 1227}, {1782, 1221}, {1782, 1218}, {1782, 1215}, {1782, 1212}, {1782, 1209}, {1782, 1206}, {1782, 1203}, {1782, 1200}, {1782, 1194}, {1782, 1191}, {1782, 1188}, {1782, 1185}, {1779, 1182}, {1779, 1179}, {1776, 1176}, {1773, 1173}, {1773, 1170}, {1770, 1167}, {1767, 1161}, {1767, 1158}, {1761, 1155}, {1761, 1149}, {1758, 1146}, {1755, 1143}, {1752, 1143}, {1752, 1140}, {1749, 1140}, {1746, 1137}, {1743, 1137}, {1740, 1131}, {1737, 1128}, {1734, 1125}, {1731, 1122}, {1728, 1119}, {1728, 1116}, {1728, 1113}, {1725, 1113}, {1722, 1107}, {1722, 1104}, {1722, 1101}, {1722, 1098}, {1719, 1095}, {1719, 1092}, {1716, 1089}, {1713, 1086}, {1710, 1083}, {1710, 1080}, {1710, 1077}, {1710, 1074}, {1707, 1074}, {1707, 1071}, {1704, 1071}, {1704, 1068}, {1701, 1065}, {1698, 1065}, {1698, 1062}, {1695, 1062}, {1692, 1059}, {1689, 1059}, {1686, 1059}, {1683, 1056}, {1680, 1056}, {1677, 1056}, {1674, 1056}, {1674, 1053}, {1671, 1053}, {1671, 1050}, {1665, 1050}, {1665, 1053}, {1662, 1050}, {1659, 1050}, {1653, 1050}, {1647, 1047}, {1644, 1047}, {1638, 1044}, {1632, 1044}, {1629, 1041}, {1626, 1041}, {1623, 1038}, {1617, 1035}, {1614, 1032}, {1611, 1032}, {1605, 1032}, {1602, 1032}, {1596, 1029}, {1590, 1026}, {1587, 1026}, {1584, 1026}, {1581, 1023}, {1578, 1023}, {1572, 1023}, {1569, 1023}, {1566, 1023}, {1560, 1023}, {1554, 1023}, {1548, 1023}, {1542, 1023}, {1539, 1023}, {1536, 1023}, {1536, 1020}, {1533, 1023}, {1530, 1023}, {1527, 1023}, {1524, 1026}, {1521, 1026}, {1518, 1026}, {1512, 1029}, {1509, 1029}, {1506, 1026}, {1503, 1029}, {1500, 1029}, {1497, 1029}, {1494, 1029}, {1491, 1029}, {1488, 1029}, {1485, 1029}, {1485, 1032}, {1482, 1032}, {1476, 1032}, {1473, 1032}, {1470, 1035}, {1467, 1035}, {1464, 1035}, {1461, 1035}, {1458, 1035}, {1455, 1035}, {1455, 1032}, {1452, 1032}, {1449, 1032}, {1449, 1029}, {1446, 1029}, {1443, 1029}, {1440, 1029}, {1437, 1029}, {1434, 1029}, {1431, 1029}, {1428, 1029}, {1425, 1029}, {1422, 1029}, {1419, 1029}, {1419, 1032}}, Point{1291, 1161}, false},
		{[]Point{{1401, 1032}, {1389, 1047}, {1383, 1050}, {1374, 1062}, {1371, 1068}, {1365, 1074}, {1362, 1077}, {1356, 1086}, {1356, 1089}, {1353, 1092}, {1350, 1095}, {1347, 1098}, {1347, 1101}, {1347, 1104}, {1344, 1104}, {1344, 1107}, {1341, 1113}, {1341, 1116}, {1341, 1119}, {1338, 1122}, {1338, 1128}, {1338, 1131}, {1338, 1134}, {1335, 1137}, {1335, 1140}, {1335, 1143}, {1335, 1146}, {1338, 1152}, {1338, 1155}, {1335, 1158}, {1335, 1164}, {1335, 1167}, {1335, 1170}, {1338, 1173}, {1338, 1176}, {1341, 1179}, {1341, 1185}, {1344, 1188}, {1344, 1191}, {1347, 1197}, {1350, 1200}, {1353, 1206}, {1356, 1206}, {1362, 1212}, {1365, 1215}, {1368, 1218}, {1371, 1221}, {1374, 1221}, {1374, 1224}, {1377, 1224}, {1377, 1227}, {1380, 1227}, {1383, 1230}, {1383, 1233}, {1386, 1233}, {1386, 1236}, {1389, 1236}, {1392, 1239}, {1392, 1242}, {1395, 1245}, {1398, 1245}, {1401, 1248}, {1404, 1251}, {1407, 1254}, {1410, 1257}, {1413, 1260}, {1416, 1266}, {1416, 1269}, {1419, 1272}, {1419, 1275}, {1422, 1278}, {1425, 1281}, {1428, 1284}, {1431, 1287}, {1431, 1290}, {1434, 1290}, {1437, 1290}, {1437, 1293}, {1440, 1293}, {1443, 1296}, {1443, 1299}, {1446, 1302}, {1449, 1302}, {1449, 1305}, {1452, 1305}, {1455, 1305}, {1458, 1308}, {1461, 1311}, {1464, 1311}, {1470, 1314}, {1473, 1317}, {1479, 1323}, {1482, 1326}, {1485, 1329}, {1491, 1335}, {1494, 1338}, {1500, 1338}, {1503, 1341}, {1512, 1341}, {1515, 1344}, {1518, 1347}, {1521, 1350}, {1524, 1350}, {1527, 1350}, {1533, 1356}, {1536, 1359}, {1539, 1362}, {1545, 1362}, {1551, 1368}, {1563, 1371}, {1566, 1377}, {1575, 1380}, {1578, 1383}, {1584, 1386}, {1587, 1386}, {1593, 1386}, {1593, 1389}, {1596, 1389}, {1599, 1389}, {1602, 1389}, {1605, 1392}, {1611, 1392}, {1617, 1392}, {1623, 1395}, {1629, 1395}, {1635, 1395}, {1641, 1395}, {1647, 1398}, {1656, 1401}, {1659, 1404}, {1665, 1404}, {1665, 1401}, {1665, 1398}, {1665, 1395}, {1668, 1395}, {1668, 1392}, {1668, 1386}, {1668, 1383}, {1674, 1383}, {1674, 1380}, {1674, 1377}, {1674, 1374}, {1677, 1371}, {1677, 1368}, {1680, 1365}, {1680, 1362}, {1680, 1359}, {1683, 1356}, {1683, 1353}, {1683, 1350}, {1686, 1347}, {1686, 1344}, {1689, 1341}, {1692, 1338}, {1695, 1335}, {1698, 1335}, {1698, 1332}, {1701, 1329}, {1704, 1326}, {1704, 1323}, {1707, 1320}, {1710, 1317}, {1713, 1314}, {1713, 1311}, {1716, 1311}, {1716, 1305}, {1719, 1305}, {1722, 1302}, {1725, 1302}, {1728, 1299}, {1728, 1296}, {1731, 1296}, {1731, 1293}, {1734, 1293}, {1737, 1293}, {1737, 1290}, {1743, 1287}, {1746, 1284}, {1749, 1281}, {1749, 1278}, {1752, 1278}, {1752, 1275}, {1755, 1275}, {1755, 1272}, {1758, 1269}, {1761, 1266}, {1764, 1263}, {1764, 1260}, {1767, 1260}, {1767, 1254}, {1770, 1251}, {1770, 1248}, {1773, 1245}, {1773, 1242}, {1776, 1239}, {1776, 1236}, {1779, 1233}, {1779, 1230}, {1782, 1230}, {1782, 1227}, {1782, 1221}, {1782, 1218}, {1782, 1215}, {1782, 1212}, {1782, 1209}, {1782, 1206}, {1782, 1203}, {1782, 1200}, {1782, 1194}, {1782, 1191}, {1782, 1188}, {1782, 1185}, {1779, 1182}, {1779, 1179}, {1776, 1176}, {1773, 1173}, {1773, 1170}, {1770, 1167}, {1767, 1161}, {1767, 1158}, {1761, 1155}, {1761, 1149}, {1758, 1146}, {1755, 1143}, {1752, 1143}, {1752, 1140}, {1749, 1140}, {1746, 1137}, {1743, 1137}, {1740, 1131}, {1737, 1128}, {1734, 1125}, {1731, 1122}, {1728, 1119}, {1728, 1116}, {1728, 1113}, {1725, 1113}, {1722, 1107}, {1722, 1104}, {1722, 1101}, {1722, 1098}, {1719, 1095}, {1719, 1092}, {1716, 1089}, {1713, 1086}, {1710, 1083}, {1710, 1080}, {1710, 1077}, {1710, 1074}, {1707, 1074}, {1707, 1071}, {1704, 1071}, {1704, 1068}, {1701, 1065}, {1698, 1065}, {1698, 1062}, {1695, 1062}, {1692, 1059}, {1689, 1059}, {1686, 1059}, {1683, 1056}, {1680, 1056}, {1677, 1056}, {1674, 1056}, {1674, 1053}, {1671, 1053}, {1671, 1050}, {1665, 1050}, {1665, 1053}, {1662, 1050}, {1659, 1050}, {1653, 1050}, {1647, 1047}, {1644, 1047}, {1638, 1044}, {1632, 1044}, {1629, 1041}, {1626, 1041}, {1623, 1038}, {1617, 1035}, {1614, 1032}, {1611, 1032}, {1605, 1032}, {1602, 1032}, {1596, 1029}, {1590, 1026}, {1587, 1026}, {1584, 1026}, {1581, 1023}, {1578, 1023}, {1572, 1023}, {1569, 1023}, {1566, 1023}, {1560, 1023}, {1554, 1023}, {1548, 1023}, {1542, 1023}, {1539, 1023}, {1536, 1023}, {1536, 1020}, {1533, 1023}, {1530, 1023}, {1527, 1023}, {1524, 1026}, {1521, 1026}, {1518, 1026}, {1512, 1029}, {1509, 1029}, {1506, 1026}, {1503, 1029}, {1500, 1029}, {1497, 1029}, {1494, 1029}, {1491, 1029}, {1488, 1029}, {1485, 1029}, {1485, 1032}, {1482, 1032}, {1476, 1032}, {1473, 1032}, {1470, 1035}, {1467, 1035}, {1464, 1035}, {1461, 1035}, {1458, 1035}, {1455, 1035}, {1455, 1032}, {1452, 1032}, {1449, 1032}, {1449, 1029}, {1446, 1029}, {1443, 1029}, {1440, 1029}, {1437, 1029}, {1434, 1029}, {1431, 1029}, {1428, 1029}, {1425, 1029}, {1422, 1029}, {1419, 1029}, {1419, 1032}}, Point{1291, 1158}, false},
		{[]Point{{1401, 1032}, {1389, 1047}, {1383, 1050}, {1374, 1062}, {1371, 1068}, {1365, 1074}, {1362, 1077}, {1356, 1086}, {1356, 1089}, {1353, 1092}, {1350, 1095}, {1347, 1098}, {1347, 1101}, {1347, 1104}, {1344, 1104}, {1344, 1107}, {1341, 1113}, {1341, 1116}, {1341, 1119}, {1338, 1122}, {1338, 1128}, {1338, 1131}, {1338, 1134}, {1335, 1137}, {1335, 1140}, {1335, 1143}, {1335, 1146}, {1338, 1152}, {1338, 1155}, {1335, 1158}, {1335, 1164}, {1335, 1167}, {1335, 1170}, {1338, 1173}, {1338, 1176}, {1341, 1179}, {1341, 1185}, {1344, 1188}, {1344, 1191}, {1347, 1197}, {1350, 1200}, {1353, 1206}, {1356, 1206}, {1362, 1212}, {1365, 1215}, {1368, 1218}, {1371, 1221}, {1374, 1221}, {1374, 1224}, {1377, 1224}, {1377, 1227}, {1380, 1227}, {1383, 1230}, {1383, 1233}, {1386, 1233}, {1386, 1236}, {1389, 1236}, {1392, 1239}, {1392, 1242}, {1395, 1245}, {1398, 1245}, {1401, 1248}, {1404, 1251}, {1407, 1254}, {1410, 1257}, {1413, 1260}, {1416, 1266}, {1416, 1269}, {1419, 1272}, {1419, 1275}, {1422, 1278}, {1425, 1281}, {1428, 1284}, {1431, 1287}, {1431, 1290}, {1434, 1290}, {1437, 1290}, {1437, 1293}, {1440, 1293}, {1443, 1296}, {1443, 1299}, {1446, 1302}, {1449, 1302}, {1449, 1305}, {1452, 1305}, {1455, 1305}, {1458, 1308}, {1461, 1311}, {1464, 1311}, {1470, 1314}, {1473, 1317}, {1479, 1323}, {1482, 1326}, {1485, 1329}, {1491, 1335}, {1494, 1338}, {1500, 1338}, {1503, 1341}, {1512, 1341}, {1515, 1344}, {1518, 1347}, {1521, 1350}, {1524, 1350}, {1527, 1350}, {1533, 1356}, {1536, 1359}, {1539, 1362}, {1545, 1362}, {1551, 1368}, {1563, 1371}, {1566, 1377}, {1575, 1380}, {1578, 1383}, {1584, 1386}, {1587, 1386}, {1593, 1386}, {1593, 1389}, {1596, 1389}, {1599, 1389}, {1602, 1389}, {1605, 1392}, {1611, 1392}, {1617, 1392}, {1623, 1395}, {1629, 1395}, {1635, 1395}, {1641, 1395}, {1647, 1398}, {1656, 1401}, {1659, 1404}, {1665, 1404}, {1665, 1401}, {1665, 1398}, {1665, 1395}, {1668, 1395}, {1668, 1392}, {1668, 1386}, {1668, 1383}, {1674, 1383}, {1674, 1380}, {1674, 1377}, {1674, 1374}, {1677, 1371}, {1677, 1368}, {1680, 1365}, {1680, 1362}, {1680, 1359}, {1683, 1356}, {1683, 1353}, {1683, 1350}, {1686, 1347}, {1686, 1344}, {1689, 1341}, {1692, 1338}, {1695, 1335}, {1698, 1335}, {1698, 1332}, {1701, 1329}, {1704, 1326}, {1704, 1323}, {1707, 1320}, {1710, 1317}, {1713, 1314}, {1713, 1311}, {1716, 1311}, {1716, 1305}, {1719, 1305}, {1722, 1302}, {1725, 1302}, {1728, 1299}, {1728, 1296}, {1731, 1296}, {1731, 1293}, {1734, 1293}, {1737, 1293}, {1737, 1290}, {1743, 1287}, {1746, 1284}, {1749, 1281}, {1749, 1278}, {1752, 1278}, {1752, 1275}, {1755, 1275}, {1755, 1272}, {1758, 1269}, {1761, 1266}, {1764, 1263}, {1764, 1260}, {1767, 1260}, {1767, 1254}, {1770, 1251}, {1770, 1248}, {1773, 1245}, {1773, 1242}, {1776, 1239}, {1776, 1236}, {1779, 1233}, {1779, 1230}, {1782, 1230}, {1782, 1227}, {1782, 1221}, {1782, 1218}, {1782, 1215}, {1782, 1212}, {1782, 1209}, {1782, 1206}, {1782, 1203}, {1782, 1200}, {1782, 1194}, {1782, 1191}, {1782, 1188}, {1782, 1185}, {1779, 1182}, {1779, 1179}, {1776, 1176}, {1773, 1173}, {1773, 1170}, {1770, 1167}, {1767, 1161}, {1767, 1158}, {1761, 1155}, {1761, 1149}, {1758, 1146}, {1755, 1143}, {1752, 1143}, {1752, 1140}, {1749, 1140}, {1746, 1137}, {1743, 1137}, {1740, 1131}, {1737, 1128}, {1734, 1125}, {1731, 1122}, {1728, 1119}, {1728, 1116}, {1728, 1113}, {1725, 1113}, {1722, 1107}, {1722, 1104}, {1722, 1101}, {1722, 1098}, {1719, 1095}, {1719, 1092}, {1716, 1089}, {1713, 1086}, {1710, 1083}, {1710, 1080}, {1710, 1077}, {1710, 1074}, {1707, 1074}, {1707, 1071}, {1704, 1071}, {1704, 1068}, {1701, 1065}, {1698, 1065}, {1698, 1062}, {1695, 1062}, {1692, 1059}, {1689, 1059}, {1686, 1059}, {1683, 1056}, {1680, 1056}, {1677, 1056}, {1674, 1056}, {1674, 1053}, {1671, 1053}, {1671, 1050}, {1665, 1050}, {1665, 1053}, {1662, 1050}, {1659, 1050}, {1653, 1050}, {1647, 1047}, {1644, 1047}, {1638, 1044}, {1632, 1044}, {1629, 1041}, {1626, 1041}, {1623, 1038}, {1617, 1035}, {1614, 1032}, {1611, 1032}, {1605, 1032}, {1602, 1032}, {1596, 1029}, {1590, 1026}, {1587, 1026}, {1584, 1026}, {1581, 1023}, {1578, 1023}, {1572, 1023}, {1569, 1023}, {1566, 1023}, {1560, 1023}, {1554, 1023}, {1548, 1023}, {1542, 1023}, {1539, 1023}, {1536, 1023}, {1536, 1020}, {1533, 1023}, {1530, 1023}, {1527, 1023}, {1524, 1026}, {1521, 1026}, {1518, 1026}, {1512, 1029}, {1509, 1029}, {1506, 1026}, {1503, 1029}, {1500, 1029}, {1497, 1029}, {1494, 1029}, {1491, 1029}, {1488, 1029}, {1485, 1029}, {1485, 1032}, {1482, 1032}, {1476, 1032}, {1473, 1032}, {1470, 1035}, {1467, 1035}, {1464, 1035}, {1461, 1035}, {1458, 1035}, {1455, 1035}, {1455, 1032}, {1452, 1032}, {1449, 1032}, {1449, 1029}, {1446, 1029}, {1443, 1029}, {1440, 1029}, {1437, 1029}, {1434, 1029}, {1431, 1029}, {1428, 1029}, {1425, 1029}, {1422, 1029}, {1419, 1029}, {1419, 1032}}, Point{1291, 1164}, false},
		{[]Point{{0, 0}, {3, 0}, {3, 1}, {2, 1}, {2, 2}, {0, 2}}, Point{1, 1}, true},
	}
	for i, tc := range tests {
		t.Run(fmt.Sprintf("SumNumbers=%d", i), func(t *testing.T) {
			got := isInside(tc.polygon, tc.p)
			if got != tc.want {
				t.Fatalf("got %v; want %v", got, tc.want)
			} else {
				t.Logf("Success !")
			}

		})
	}

}
